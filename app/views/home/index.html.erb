<!-- <section id="home">
  <div class="hero-content wrapper text-center">
    <h1 class="light-green"><img src="/assets/logo.svg" alt="Municipio Verde" width="80px">Municipio Verde</h1>

    <div class="row text-center">
      <div class="col-md-4">
        <h2>La certificación ambiental de <span class="area_name"> area </span> es  <%= @data[0][:data][:val_2] %></h2>
        <p><%= t('.tt_informate') %></p>
        <%= link_to t('.get_informed'), get_informed_path, :class => "btn btn-primary", :data => { :toggle => 'tooltip', :placement => 'right' }, :title => t('.tt_informate') %>
      </div>
      <div class="col-md-4">
        <h2>
          Las iniciativas de <span class="area_name"> area </span> tienen nota <%= @data[0][:data][:val_1] %>
        </h2>
        <p><%= t('.tt_evalua') %></p>
        <%= link_to t('.opinions'), initiatives_path, :class => "btn btn-default", :data => { :toggle => 'tooltip', :placement => 'right' }, :title => t('.tt_evalua') %>
      </div>
      <div class="col-md-4">
        <h2>
          <%= @data[0][:data][:val_3] %> proyectos en evaluación en <span class="area_name"> area </span>
        </h2>
        <p>Realiza Observaciones Ciudadanas a proyectos en Evaluación Ambiental</p>
        <%= link_to t('.inspect'), citizen_obs_path, :class => "btn btn-warning", :data => { :toggle => 'tooltip', :placement => 'right' }, :title => t('.tt_participa') %>
      </div>
    </div>
  </div>

</section> -->
<section id="home">
<div class="hero-content wrapper text-center">
  <h1 class="light-green"><img src="/assets/logo.svg" alt="Municipio Verde" width="80px">Municipio Verde</h1>
  <div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
  <div class="carousel-inner" role="listbox">

    <% @data.each_with_index do |data, index| %>
      <div class="carousel-item <%= "active" if index == 0 %>">
        <div class="row text-center">
          <div class="col-md-4">
            <h2>La certificación ambiental de <%= data[:name] %> es  <%= data[:data][:val_2] %></h2>
            <p><%= t('.tt_informate') %></p>
            <%= link_to t('.get_informed'), get_informed_path, :class => "btn btn-primary", :data => { :toggle => 'tooltip', :placement => 'right' }, :title => t('.tt_informate') %>
          </div>
          <div class="col-md-4">
            <h2>
              Las iniciativas de <%= data[:name] %> tienen nota <%= data[:data][:val_1] %>
            </h2>
            <p><%= t('.tt_evalua') %></p>
            <%= link_to t('.opinions'), initiatives_path, :class => "btn btn-default", :data => { :toggle => 'tooltip', :placement => 'right' }, :title => t('.tt_evalua') %>
          </div>
          <div class="col-md-4">
            <h2>
              <%= data[:data][:val_3] %> proyectos en evaluación en <%= data[:name] %>
            </h2>
            <p>Realiza Observaciones Ciudadanas a proyectos en Evaluación Ambiental</p>
            <%= link_to t('.inspect'), citizen_obs_path, :class => "btn btn-warning", :data => { :toggle => 'tooltip', :placement => 'right' }, :title => t('.tt_participa') %>
          </div>
        </div>
      </div>
    <% end %>
  </div>
  <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="sr-only">Previous</span>
  </a>
  <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="sr-only">Next</span>
  </a>
</div>
</div>
</section>
<script type="text/javascript">

$(document).ready(function(){
  var delay = ( function() {
      var timer = 0;
      return function(callback, ms) {
          clearTimeout (timer);
          timer = setTimeout(callback, ms);
      };
  })();

  function set_spans(name) {
    spans = $('.area_name');
    spans[0].innerText = name;
    spans[1].innerText = name;
    spans[2].innerText = name;
  };

  var data = <%=  @data.to_json.html_safe %>;
  var current_data;
  var val_1 = 0;
  var val_2 = 0;
  var val_3 = 0;
  var name;

  console.log(data);
  var i= 0;
  var name = data[i]['name'];
  console.log(name);
  set_spans(name)
  delay(function(){
        console.log('Time elapsed!');
  }, 2000 );
  //
  // i++;
  // var name = data[i]['name'];
  // console.log(name);
  //
  // delay(function(){
  //       console.log('Time elapsed!');
  // }, 2000 );
  //
  // set_spans(name)
  // i=0;
  // var name = data[i]['name'];
  // console.log(name);
  //
  // delay(function(){
  //       console.log('Time elapsed!');
  // }, 2000 );
  //
  // set_spans(name)
});
</script>
